!function(){var e,t={772:function(e,t,r){"use strict";var o=window.wp.blocks,n=window.wp.blockEditor,i=window.wp.components,a=window.wp.element,c=r(697),s=r.n(c),u=window.wp.data;const l=()=>{setTimeout((()=>{window.organic||={},window.organic.cmd||=[],window.organic.cmd.push((({affiliate:e})=>e?.processPage()))}),0)},p=()=>{l()},d=({onEdit:e})=>React.createElement(i.Toolbar,null,React.createElement(React.Fragment,null,React.createElement(i.IconButton,{icon:"edit",label:"Edit product carousel",onClick:e}),React.createElement(i.IconButton,{icon:"update",label:"Refresh display",onClick:p})));d.propTypes={onEdit:s().func.isRequired};var f=d;const C=(0,a.forwardRef)((({productCarouselSnippet:e},t)=>React.createElement("div",{dangerouslySetInnerHTML:{__html:e},ref:t})));C.propTypes={productCarouselSnippet:s().string.isRequired};var R=C;const g=({iframeURL:e,integrationMessageType:t,onClose:r,onIntegrationSelect:o,title:n})=>((0,a.useEffect)((()=>{const e=e=>{const r=JSON.parse(e.data);r?.type===t&&o(r)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}),[t,o]),React.createElement(i.Modal,{className:"integration-modal",onRequestClose:r,shouldCloseOnClickOutside:!1,title:n,isFullScreen:!0},React.createElement("iframe",{height:"100%",src:e,title:n,width:"100%"})));g.propTypes={iframeURL:s().string.isRequired,integrationMessageType:s().string.isRequired,onClose:s().func.isRequired,onIntegrationSelect:s().func.isRequired,title:s().string.isRequired};var m=g;const v=({onClose:e,onCarouselSelect:t,productCarouselCreationURL:r})=>React.createElement(m,{iframeURL:r,integrationMessageType:"organic/affiliate-select-product-carousel",onClose:e,onIntegrationSelect:t,title:"Product Carousel Creation"});v.propTypes={onClose:s().func.isRequired,onCarouselSelect:s().func.isRequired,productCarouselCreationURL:s().string.isRequired};var w=v;const E=s().shape({productCarouselEditURL:s().string,productCarouselSnippet:s().bool.isRequired}),y=({attributes:e,setAttributes:t,productCarouselCreationURL:r})=>{const o=(0,a.createRef)(),[c,s]=(0,a.useState)(!e.productCarouselSnippet),u=(0,a.useCallback)((()=>s(!1)),[s]),l=(0,a.useCallback)((()=>s(!0)),[s]),d=(0,a.useCallback)((({productCarouselSnippet:e,productCarouselEditURL:r})=>{t({productCarouselSnippet:e,productCarouselEditURL:r}),u(),o.current&&o.current.removeAttribute("data-organic-affiliate-processed"),p()}),[u,o,t]);return React.createElement("div",(0,n.useBlockProps)(),c&&React.createElement(w,{onCarouselSelect:d,onClose:u,productCarouselCreationURL:e.productCarouselEditURL||r}),React.createElement(n.BlockControls,null,React.createElement(f,{onEdit:l})),React.createElement(i.Card,null,React.createElement(i.CardHeader,null,"Product Carousel"),React.createElement(i.CardBody,null,e.productCarouselSnippet?React.createElement(R,{ref:o,productCarouselSnippet:e.productCarouselSnippet}):React.createElement("h3",null,"Product Carousel is unfinished."))))};y.propTypes={attributes:E.isRequired,setAttributes:s().func.isRequired,productCarouselCreationURL:s().string.isRequired};var b=y;const h=({attributes:e})=>(async function(){return new Promise((e=>{const t=(0,u.subscribe)((()=>{((0,u.select)("core/editor").isCleanNewPost()||(0,u.select)("core/block-editor").getBlockCount()>0)&&(t(),e())}))}))}().then((()=>{window.__wpOrganicAffiliateProcessed||(window.__wpOrganicAffiliateProcessed=!0,l())})),React.createElement("div",n.useBlockProps.save(),e?.productCarouselSnippet&&React.createElement(R,{productCarouselEditURL:e.productCarouselEditURL,productCarouselSnippet:e.productCarouselSnippet})));h.propTypes={attributes:E.isRequired};var O=h;function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},S.apply(this,arguments)}(0,o.registerBlockType)("organic/affiliate-product-carousel",{attributes:{productCarouselEditURL:{type:"string"},productCarouselSnippet:{type:"string"}},icon:()=>React.createElement("svg",{fill:"none",height:20,viewBox:"0 0 25 26",width:20},React.createElement("path",{clipRule:"evenodd",d:"M0.260646 10.387C1.59838 3.14112 7.33154 -1.08564 14.3547 0.24277C21.0911 1.49872 25.0804 7.51279 23.7427 14.7828C22.4288 22.0045 16.5046 26.0622 9.57702 24.758C2.84056 23.4778 -1.07709 17.6329 0.260646 10.387ZM3.19889 9.80731C3.19889 5.87039 5.8027 2.27161 9.2187 1.03982C9.2187 1.03982 10.2937 0.605063 11.6075 0.74998C13.7097 0.967356 15.7163 2.175 17.054 3.69663C18.3918 5.21827 19.9206 8.45475 20.2311 11.5222C20.3745 12.8023 20.1356 15.7731 19.8012 17.1256C18.559 22.1011 16.0268 24.5889 12.9691 24.2024C10.9864 23.9609 9.88757 23.0431 9.12315 20.5312C8.52594 18.5507 7.97652 17.7053 6.37601 16.2561C4.05886 14.1307 3.19889 12.3675 3.19889 9.80731Z",fillRule:"evenodd"})),edit:e=>React.createElement(b,S({},e,{productCarouselCreationURL:organic_affiliate_config_product_carousel.productCarouselCreationURL})),save:O})},703:function(e,t,r){"use strict";var o=r(414);function n(){}function i(){}i.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,i,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},697:function(e,t,r){e.exports=r(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=function(t,r,n,i){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],i=e[l][2];for(var c=!0,s=0;s<r.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](r[s])}))?r.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,n,i]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,i,a=r[0],c=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(s)var l=s(o)}for(t&&t(r);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},r=self.webpackChunkaffiliate_product_integrations=self.webpackChunkaffiliate_product_integrations||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=o.O(void 0,[431],(function(){return o(772)}));n=o.O(n)}();